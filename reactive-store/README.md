# reactive-store  

Реактивное хранилище, автоматически пополняемое при запросе данных в хранилище (например из view слоя). Пример интерфейса:

```ts
interface IBookStore {
  get(id: string): IHolder<IBook>;
}
```

На момент, когда в стор посылается запрос отдаётся обложка книги (пустой IHolder), на который подписывается view. Далее IHolder сам себя обновляет, меняя своё тело на реальную книгу (что реактивно отрисовывается в view). Фокус в том, что view инициирует запрос данных при первом рендере, вместо того, чтобы запрос инициировал поток данных (например во view-model).  

Утечки памяти. Проблемы этого метода заключаются в том, что когда модель загрузила множество IHolder они лежат в BookStore и не очищаются. Одно из решений - внутри BookStore использовать weak структуры данных (например WeakMap)- когда view размаунтится, то соответствующий Holder будет удалён из памяти.  
